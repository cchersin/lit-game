"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunklit_game"] = self["webpackChunklit_game"] || []).push([["src_game-main_ts"],{

/***/ "./src/game-card.ts":
/*!**************************!*\
  !*** ./src/game-card.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameCard: () => (/* binding */ GameCard)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ \"./node_modules/lit/decorators.js\");\n\n\n\nlet GameCard = class GameCard extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n    constructor() {\n        super(...arguments);\n        this.id = '';\n        this.description = '';\n        this.value = '';\n        this.color = '';\n        this.backgroundColor = '';\n        this.left = '';\n        this.zindex = '';\n        this.isselected = \"false\";\n    }\n    handleClick() {\n        this.dispatchEvent(new CustomEvent('game-card-click', {\n            detail: { id: this.id },\n            bubbles: true,\n            composed: true\n        }));\n    }\n    getDescription() {\n        const a = this.description.split('______ ');\n        if (this.value !== '') {\n            return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n        <span>${a[0]}</span>\n        <span style=\"font-weight: 400; font-family: sans-serif; font-size: 30px; text-decoration: underline\">${this.value}</span>\n        <span style=\"margin-left: -6px\">${a[1]}</span>\n      `;\n        }\n        return this.description;\n    }\n    render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n    <div class=\"card ${this.backgroundColor}\" @click=${this.handleClick} style=\"left: ${this.left}; z-index: ${this.isselected === \"true\" ? 1000 : this.zindex};\">\n      <p>${this.getDescription()}<span class=\"point\">.</span></p>\n    </div>\n  `;\n    }\n};\nGameCard.styles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `\n  .card {\n    height: 400px;\n    width: 250px;\n    padding-top: 20px;\n    padding-left: 22px;\n    padding-right: 22px;\n    border-radius: 10px;\n  }\n\n  .card:first-letter {\n    text-transform: uppercase;\n  }\n\n  .black {\n    background-color: red;\n    color: black;\n    font-size: 37px;\n    font-family: \"gandur-new\", sans-serif;\n    font-weight: 300;\n    font-style: normal;\n    line-height: 42px;\n    rotate: -5deg;\n    margin: auto;\n    margin-top: 20px;\n  }\n\n  .white {\n    background-color: white;\n    color: black;\n    font-size: 25px;\n    rotate: 10deg;\n    border: 1px black solid;\n    display: inline-block;\n    position: absolute;\n    margin-top: -200px;\n  }\n\n  .card p {\n    margin: 0px;\n  }\n\n  .black .point {\n    display: none;\n  }\n`;\n(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: String })\n], GameCard.prototype, \"id\", void 0);\n(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: String })\n], GameCard.prototype, \"description\", void 0);\n(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: String })\n], GameCard.prototype, \"value\", void 0);\n(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: String })\n], GameCard.prototype, \"color\", void 0);\n(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: String })\n], GameCard.prototype, \"backgroundColor\", void 0);\n(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: String })\n], GameCard.prototype, \"left\", void 0);\n(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: String })\n], GameCard.prototype, \"zindex\", void 0);\n(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: String })\n], GameCard.prototype, \"isselected\", void 0);\nGameCard = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)('game-card')\n], GameCard);\n\n\n\n//# sourceURL=webpack://lit-game/./src/game-card.ts?");

/***/ }),

/***/ "./src/game-main.ts":
/*!**************************!*\
  !*** ./src/game-main.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameMain: () => (/* binding */ GameMain)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _vaadin_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @vaadin/router */ \"./node_modules/@vaadin/router/dist/index.js\");\n/* harmony import */ var _game_card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./game-card */ \"./src/game-card.ts\");\n/* harmony import */ var _card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./card */ \"./src/card.ts\");\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./game */ \"./src/game.ts\");\n/* harmony import */ var _store_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./store-service */ \"./src/store-service.ts\");\n\n\n\n\n\n\n\n\nlet GameMain = class GameMain extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n    constructor() {\n        super();\n        this.currentCardId = '';\n        this.currentGame = new _game__WEBPACK_IMPORTED_MODULE_5__.Game('');\n        this.loadGame();\n    }\n    handleCardClick(event) {\n        this.currentCardId = event.detail.id;\n        this.requestUpdate();\n    }\n    findCardContent(cardId) {\n        var cards = this.getRole() === 'player' ? this.getHand() : this.currentGame.tableCards;\n        const card = cards.find((c) => c.id === cardId);\n        if (card) {\n            return card.content;\n        }\n        return '';\n    }\n    handleStopGame(event) {\n        console.log('handleStopGame');\n        this.currentGame.stop();\n        _store_service__WEBPACK_IMPORTED_MODULE_6__.StoreService.saveGame(this.currentGame);\n        this.requestUpdate();\n    }\n    handleLeaveGame() {\n        this.currentGame.leave(localStorage.userName);\n        _store_service__WEBPACK_IMPORTED_MODULE_6__.StoreService.saveGame(this.currentGame);\n        _vaadin_router__WEBPACK_IMPORTED_MODULE_2__.Router.go('/');\n    }\n    loadGame() {\n        _store_service__WEBPACK_IMPORTED_MODULE_6__.StoreService.onGameUpdate((game) => {\n            this.currentGame = game;\n            if (this.currentGame.status !== 'started' || !this.hasRole()) {\n                _vaadin_router__WEBPACK_IMPORTED_MODULE_2__.Router.go('/starting');\n            }\n            if (this.currentGame.status === 'completed') {\n                _vaadin_router__WEBPACK_IMPORTED_MODULE_2__.Router.go('/winner');\n            }\n            if (this.getPlayer()?.hasCards() && !this.getPlayer()?.hasCard(this.currentCardId)) {\n                this.currentCardId = '';\n            }\n            this.requestUpdate();\n        });\n    }\n    findMasterName() {\n        return this.currentGame.findMasterName();\n    }\n    findPlayers() {\n        return this.currentGame.findPlayers();\n    }\n    isMaster() {\n        return this.currentGame.isMaster(localStorage.userName);\n    }\n    isPlayer() {\n        return this.currentGame.isPlayer(localStorage.userName);\n    }\n    getPlayer() {\n        return this.currentGame.getPlayer(localStorage.userName);\n    }\n    hasRole() {\n        return this.getPlayer();\n    }\n    hasHand() {\n        const player = this.currentGame.getPlayer(localStorage.userName);\n        return player ? player.hand.length > 0 : false;\n    }\n    getRole() {\n        return this.currentGame.getRole(localStorage.userName);\n    }\n    renderBlackCard() {\n        if (!this.hasRole()) {\n            return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) ``;\n        }\n        let left = 0;\n        let zindex = 11;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<game-card description=\"${this.currentGame.blackCard?.content}\" value=\"${this.findCardContent(this.currentCardId)}\" backgroundColor=\"${this.currentGame.blackCard?.color}\" color=\"${this.currentGame.blackCard?.getOppositeColor()}\"></game-card>`;\n    }\n    getHand() {\n        return this.currentGame.getHand(localStorage.userName);\n    }\n    getRounds() {\n        return this.currentGame.rounds;\n    }\n    handlePlayCard() {\n        this.currentGame.playCard(localStorage.userName, this.currentCardId);\n        _store_service__WEBPACK_IMPORTED_MODULE_6__.StoreService.saveGame(this.currentGame);\n    }\n    renderWhiteCards() {\n        if (this.getRole() === 'player') {\n            return this.renderCards(this.getHand());\n        }\n        else {\n            return this.renderCards(this.currentGame.tableCards);\n        }\n    }\n    renderCards(cards) {\n        let left = -60;\n        let zindex = 11;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<div class=\"container-cards\">\n         ${cards.map((card) => new _card__WEBPACK_IMPORTED_MODULE_4__.Card(card.id, card.content, card.color)).map((card) => {\n            left += 40;\n            zindex -= 1;\n            return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n            <game-card id=\"${card.id}\" description=\"${card.content}\" backgroundColor=\"${card.color}\" color=\"${card.getOppositeColor()}\" left=\"${left}px\" zindex=\"${zindex}\" isselected=\"${card.id === this.currentCardId}\"></game-card>\n          `;\n        })}\n        </div>`;\n    }\n    renderRounds() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<div>\n         ${this.getRounds().map((round) => {\n            return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<div>\n            winner:${round.winnerName} ${round.sentence} \n          </div>`;\n        })}\n        </div>`;\n    }\n    render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n      <main class=\"game\" @game-card-click=${this.handleCardClick}>\n        <span>User: ${localStorage.userName}(${this.getRole()}) - ${this.currentGame.status}</span>\n        <div class=\"container-widget\">\n          ${this.currentGame.players.map(player => (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n            <span class=\"${player.role}-widget\" style=\"${player.name === localStorage.userName ? 'font-weight: bold;' : ''}\">\n              ${player.name} ${player.currentCardId !== '' ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `has choosen` : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) ``} ${this.currentGame.getPlayerWins(player.name)}\n            </span>\n          `)}\n        </div>\n         ${this.renderBlackCard()} \n         ${this.getPlayer()?.currentCardId === '' ? this.renderWhiteCards() : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<div style=\"color:white\">wait...</div>`}\n         <div class=\"container-widget\">\n          ${this.getPlayer()?.currentCardId === '' && this.currentCardId !== '' ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<button class=\"action-button\" @click=\"${this.handlePlayCard}\">Confirm</button>` : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) ``}\n          ${this.currentGame.status === 'started' ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<button class=\"action-button\" @click=\"${this.handleStopGame}\">Stop</button>` : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) ``}\n          <button class=\"action-button\" @click=\"${this.handleLeaveGame}\">Leave</button>\n         </div>  \n         ${this.renderRounds()} \n      </main>\n    `;\n    }\n};\nGameMain.styles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `\n  main {\n    overflow: hidden;\n    background-color: black;\n    height: 100%;\n  }\n\n  .card {\n    border: 1px solid #ccc;\n    padding: 10px;\n    border-radius: 5px;\n  }\n\n  .player-widget {\n    background-color: white;\n    padding: 5px;\n    padding-left: 10px;\n    padding-right: 10px;\n    border-radius: 20px;\n    margin: 20px;\n  }\n\n  .master-widget {\n    background-color: red;\n    color: black;\n    padding: 5px;\n    padding-left: 10px;\n    padding-right: 10px;\n    border-radius: 20px;\n    margin: 20px;\n  }\n\n  .container-cards {\n   position: relative;\n  }\n\n  .container-widget {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    flex-wrap: wrap;\n    max-width: 400px;\n    margin: auto;\n  }\n  \n  .action-button {\n    background-color: red;\n    font-size: 18px;\n    border-radius: 20px;\n    z-index: 1000;\n    position: relative;\n    border: none;\n    padding: 10px;\n    padding-left: 18px;\n    padding-right: 18px;\n    font-weight: bold;\n    margin: 10px;\n    margin-top: 30px;\n  }\n  `;\nGameMain = (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)('game-main')\n], GameMain);\n\n\n\n//# sourceURL=webpack://lit-game/./src/game-main.ts?");

/***/ })

}]);