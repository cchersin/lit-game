"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunklit_game"] = self["webpackChunklit_game"] || []).push([["src_login_ts"],{

/***/ "./src/firebase.ts":
/*!*************************!*\
  !*** ./src/firebase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   app: () => (/* binding */ app),\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"./node_modules/firebase/app/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyB8KIR75UzA3U9lgRKDLTn7CJnKbYm97Fo\",\n    authDomain: \"myreactgame-8a3b9.firebaseapp.com\",\n    projectId: \"myreactgame-8a3b9\",\n    storageBucket: \"myreactgame-8a3b9.firebasestorage.app\",\n    messagingSenderId: \"989554260876\",\n    appId: \"1:989554260876:web:48d48133992058331c74a9\",\n    measurementId: \"G-7PVPBHY7JT\"\n};\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(app);\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)(app);\n\n\n//# sourceURL=webpack://lit-game/./src/firebase.ts?");

/***/ }),

/***/ "./src/login.ts":
/*!**********************!*\
  !*** ./src/login.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Login: () => (/* binding */ Login)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./firebase */ \"./src/firebase.ts\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _vaadin_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @vaadin/router */ \"./node_modules/@vaadin/router/dist/index.js\");\n\n\n\n\n\n\n\nlet Login = class Login extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n    constructor() {\n        super();\n        this.displayName = localStorage.userName ? localStorage.userName : '';\n        this.user = null;\n        if (this.displayName) {\n            this.signInAnonymously();\n        }\n    }\n    async signInAnonymously() {\n        try {\n            const userCredential = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.signInAnonymously)(_firebase__WEBPACK_IMPORTED_MODULE_2__.auth);\n            this.user = userCredential.user;\n            console.log(\"Signed in anonymously:\", this.user.uid);\n            if (this.user) {\n                await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.updateProfile)(this.user, {\n                    displayName: this.displayName\n                });\n                const userDoc = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, \"users\", this.displayName);\n                const data = {\n                    name: this.displayName,\n                    sessionId: this.user.uid,\n                    lastOnlineRef: new Date(),\n                };\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.setDoc)(userDoc, data);\n                localStorage.userName = data.name;\n                localStorage.sessionId = data.sessionId;\n                _vaadin_router__WEBPACK_IMPORTED_MODULE_5__.Router.go('/starting');\n            }\n            else {\n                console.warn(\"No user is currently signed in.\");\n            }\n            this.requestUpdate();\n        }\n        catch (error) {\n            console.error(\"Anonymous auth failed:\", error);\n            // Handle errors more gracefully!\n        }\n    }\n    handleInputDisplayName(event) {\n        const input = event.target;\n        this.displayName = input.value;\n    }\n    render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n      <div class=\"login\">\n        <p class=\"input-label\">E tu chi saresti???</p>\n         <div class=\"input-container\">\n          <div class=\"input-container2\">\n            <input type=\"text\" .value=\"${this.displayName}\" @input=\"${this.handleInputDisplayName}\" maxlength=\"6\" placeholder=\"Io sono...\"/>\n          </div>\n          <div class=\"input-container3\">\n            <button @click=\"${this.signInAnonymously}\">Login</button>\n          </div>\n         </div>\n      </div>\n    `;\n    }\n};\nLogin.styles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `\n  .login {\n    overflow: hidden;\n    background-color: red;\n    height: 100%;\n  }\n\n  .input-label {\n    text-align: center;\n    font-weight: bold;\n    font-size: 15px;\n    padding-top: 100px;\n  }\n \n  .input-container {\n    margin-top: 10px;\n    width: 100%;\n  }\n\n  .input-container2 {\n    margin: auto;\n    width: 79%;\n  }\n\n  .input-container3 {\n    margin: auto;\n    width: 20%;\n  }\n\n  .input-container input {\n    border-radius: 12px;\n    border: 2px solid black;\n    height: 60px;\n    width: 100%;\n    text-align: center;\n    font-size: 50px;\n    padding-bottom: 10px;\n    font-family: \"gandur-new\", sans-serif;\n    font-weight: 600;\n    font-style: normal;\n    background-color: red;\n    text-transform: capitalize;\n  }\n\n  .input-container input::placeholder {\n    color: darkred;\n    font-weight: 600;\n    text-transform: none;\n  }\n\n  .input-container input:focus {\n    outline: none;\n  }\n\n  .input-container button {\n    padding: 5px 10px;\n    border: 2px solid black;\n    border-radius: 12px;\n    background-color: red;\n    margin-top: 30px;\n  }\n  `;\n(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: String })\n], Login.prototype, \"displayName\", void 0);\nLogin = (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)('user-login')\n], Login);\n\n\n\n//# sourceURL=webpack://lit-game/./src/login.ts?");

/***/ })

}]);