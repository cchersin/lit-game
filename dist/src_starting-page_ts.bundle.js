"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunklit_game"] = self["webpackChunklit_game"] || []).push([["src_starting-page_ts"],{

/***/ "./src/starting-page.ts":
/*!******************************!*\
  !*** ./src/starting-page.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StartingPage: () => (/* binding */ StartingPage)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _vaadin_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @vaadin/router */ \"./node_modules/@vaadin/router/dist/index.js\");\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./game */ \"./src/game.ts\");\n/* harmony import */ var _store_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./store-service */ \"./src/store-service.ts\");\n\n\n\n\n\n\nlet StartingPage = class StartingPage extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n    constructor() {\n        super();\n        this.currentGame = new _game__WEBPACK_IMPORTED_MODULE_3__.Game('');\n        this.loadGame();\n    }\n    handleNewGame(event) {\n        const gameName = new Date().toString();\n        const game = new _game__WEBPACK_IMPORTED_MODULE_3__.Game(gameName);\n        game.init(localStorage.userName);\n        _store_service__WEBPACK_IMPORTED_MODULE_4__.StoreService.saveGame(game);\n    }\n    handleJoin(event) {\n        this.currentGame.join(localStorage.userName);\n        _store_service__WEBPACK_IMPORTED_MODULE_4__.StoreService.saveGame(this.currentGame);\n    }\n    handleStartGame(event) {\n        this.currentGame.start();\n        _store_service__WEBPACK_IMPORTED_MODULE_4__.StoreService.saveGame(this.currentGame);\n    }\n    loadGame() {\n        _store_service__WEBPACK_IMPORTED_MODULE_4__.StoreService.onGameUpdate((game) => {\n            this.currentGame = game;\n            if (this.currentGame.status === 'started' && this.hasRole()) {\n                _vaadin_router__WEBPACK_IMPORTED_MODULE_2__.Router.go('/game');\n            }\n            this.requestUpdate();\n        });\n    }\n    findMasterName() {\n        return this.currentGame.findMasterName();\n    }\n    findPlayers() {\n        return this.currentGame.findPlayers();\n    }\n    isMaster() {\n        return this.currentGame.isMaster(localStorage.userName);\n    }\n    isPlayer() {\n        return this.currentGame.isPlayer(localStorage.userName);\n    }\n    hasRole() {\n        return this.currentGame.getPlayer(localStorage.userName);\n    }\n    getRole() {\n        return this.currentGame.getRole(localStorage.userName);\n    }\n    render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n      <main class=\"game\">\n        <span>User: ${localStorage.userName}(${this.getRole()}) - ${this.currentGame.status}</span>\n        <div class=\"information-container\">\n         <p class=\"information\">${this.findMasterName() !== '' ? this.findMasterName() + ' has started the game' : ''}</p>\n         ${this.findPlayers().map(player => (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n            <p class=\"information\">\n              ${player.name} has joined the game\n            </p>\n          `)}\n        </div>\n        <div class=\"container-button\">\n         ${this.currentGame.status === 'completed' ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<button class=\"action-button\" @click=\"${this.handleNewGame}\">New game</button>` : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) ``}\n         ${this.isMaster() && this.currentGame.status === 'pending' ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<button class=\"action-button\" @click=\"${this.handleStartGame}\">Start game</button>` : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) ``}\n         ${!this.hasRole() && this.currentGame.status === 'pending' ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `<button class=\"action-button\" @click=\"${this.handleJoin}\">Join</button>` : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) ``}\n         </div>\n      </main>\n    `;\n    }\n};\nStartingPage.styles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `\n  main {\n    background-color: red;\n    height: 100%;\n  }\n\n  .information {\n    text-align: center;\n    font-size: 16px;\n    font-weight: bold;\n    line-height: 1;\n  }\n\n  .action-button {\n    background-color: red;\n    font-size: 18px;\n    border-radius: 20px;\n    z-index: 1000;\n    position: relative;\n    border: none;\n    padding: 10px;\n    padding-left: 18px;\n    padding-right: 18px;\n    font-weight: bold;\n    margin: auto;\n    border: 2px solid black;\n  }\n\n  .container-button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    flex-wrap: wrap;\n    max-width: 400px;\n    margin: auto;\n  }\n\n  .information-container {\n    margin-top: 80px;\n    margin-bottom: 20px;\n  }\n\n  `;\nStartingPage = (0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)('starting-page')\n], StartingPage);\n\n\n\n//# sourceURL=webpack://lit-game/./src/starting-page.ts?");

/***/ })

}]);